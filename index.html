<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FLYNET</title>
  <link rel="stylesheet" href="style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
</head>
<body class="theme-dark">

  <!-- Auth Screen -->
  <div id="auth" class="screen">
    <div class="auth-container">
      <h2>FLYNET</h2>
      <button onclick="signInAnonymously()" class="auth-btn">–í–æ–π—Ç–∏ –∞–Ω–æ–Ω–∏–º–Ω–æ</button>
      <button onclick="signInWithGoogle()" class="auth-btn google">–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google</button>
      <p>—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –≤—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ google</p>
      <button onclick="signInWithPhone()" class="auth-btn phone">–í–æ–π—Ç–∏ –ø–æ –Ω–æ–º–µ—Ä—É</button>
      <div class="divider">–∏–ª–∏</div>
      <input type="email" id="email" placeholder="Email" />
      <input type="password" id="password" placeholder="–ü–∞—Ä–æ–ª—å" />
      <button onclick="handleLogin()" class="auth-btn">–í–æ–π—Ç–∏</button>
      <button onclick="handleRegister()" class="auth-btn outline">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
    </div>
  </div>

  <!-- Chat Screen -->
  <div id="chat" class="screen hidden">
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
      <div class="header">
        <div class="title">–ß–∞—Ç—ã</div>
        <div class="header-actions">
          <button onclick="openSettings()" class="icon-btn">‚öôÔ∏è</button>
        </div>
      </div>
      <div class="chat-list" id="chatList">
        <!-- FLYNET Bot -->
        <div class="chat-item" onclick="openBotChat()">
          <div class="avatar">
            <img src="https://i.imgur.com/8Q6zJdL.png" alt="FLYNET Bot" />
          </div>
          <div class="chat-info">
            <div class="chat-name">FLYNET Bot</div>
            <div class="chat-last">–ü–æ–º–æ—â–Ω–∏–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã</div>
          </div>
        </div>
        <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
      </div>
    </div>

    <!-- Main Chat -->
    <div class="main" id="mainChat">
      <div class="header">
        <button class="back-btn" onclick="showChats()">‚Äπ</button>
        <div class="chat-info">
          <div id="chatTitle">–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Ç</div>
          <div id="chatStatus" class="status">–≤ —Å–µ—Ç–∏</div>
        </div>
        <div class="header-actions">
          <button onclick="toggleEmojiPanel()" class="icon-btn">üôÇ</button>
        </div>
      </div>
      <div id="messages" class="messages"></div>
      <div class="input-area">
        <input type="text" id="messageInput" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ" onkeypress="if(event.key==='Enter') sendMessage()" />
        <button onclick="sendMessage()" class="send-btn">‚û§</button>
      </div>
    </div>

    <!-- Emoji Panel -->
    <div class="emoji-panel" id="emojiPanel">
      <div class="emoji-grid" id="emojiGrid"></div>
    </div>

    <!-- Settings -->
    <div class="settings-panel" id="settingsPanel">
      <div class="settings-header">
        <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
        <button onclick="closeSettings()" class="icon-btn">‚úï</button>
      </div>
      <div class="settings-content">
        <button onclick="logout()" class="btn-danger">–í—ã–π—Ç–∏</button>
      </div>
    </div>
  </div>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.13.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.13.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.13.1/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.13.1/firebase-storage-compat.js"></script>

  <script src="script.js" defer></script>
</body>
</html>
